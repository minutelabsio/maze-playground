(function(t){function e(e){for(var i,o,s=e[0],c=e[1],l=e[2],h=0,f=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/maze-playground/";var s=this["webpackJsonp"]=this["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0014":function(t,e,n){t.exports=n.p+"img/melissa-min.c5e2541d.png"},"051c":function(t,e,n){t.exports=n.p+"img/henry-min.398416a1.png"},"0528":function(t,e,n){"use strict";n("c481")},"06219":function(t,e,n){t.exports=n.p+"img/sarah-min.aa88f9cb.png"},"16a4":function(t,e,n){"use strict";n("ef0c")},"1c8d":function(t,e,n){"use strict";n("66d4")},"37f7":function(t,e,n){t.exports=n.p+"img/kate-min.d37c0234.png"},5455:function(t,e,n){t.exports=n.p+"img/arcadi-min.28a4f5a5.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("99af"),n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o={name:"App"},s=o,c=(n("f0fd"),n("2877")),l=Object(c["a"])(s,a,r,!1,null,"2b7da3d5",null),u=l.exports,h=n("0284"),f=n.n(h),d=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("div",{staticClass:"inner scrollbars"},[n("div",{staticClass:"container"},[n("div",{staticClass:"section"},[n("div",{staticClass:"content"},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("router-link",{attrs:{to:{name:"home"}}},[n("b-icon",{attrs:{icon:"chevron-left"}}),n("span",[t._v("Back to the Lab")])],1)],1),n("div",{staticClass:"level-right"},[n("a",{attrs:{href:"https://minutelabs.io",target:"_blank"}},[n("span",[t._v("See more Labs!")]),n("b-icon",{attrs:{icon:"launch",size:"is-small"}})],1)])]),t._m(0),n("h1",{staticClass:"title has-text-centered"},[t._v("Project")]),n("p",[t._v("Project Info")])])])])])])},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("figure",{staticClass:"image is-128x128"},[n("img",{staticClass:"is-rounded has-background-white",attrs:{src:"//cdn.minutelabs.io/logos/logo-minutelabs-no-text.png"}})])])}],p=(n("8548"),{}),g=Object(c["a"])(p,v,m,!1,null,"5cae0c74",null),x=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Torus")],1)},b=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"maze"},[n("canvas",{ref:"canvas",attrs:{width:t.width,height:t.height}})])},z=[],k=(n("7db0"),n("4160"),n("c975"),n("d81d"),n("a9e3"),n("159b"),n("b85c")),M=n("5260"),O=n("f560"),C=n.n(O),P=n("51f5"),j=n.n(P),E=n("2769"),_=n.n(E),$=n("8730"),I=n.n($),S=function(t,e,n){return{x:t,y:e,id:n,links:[]}},Y=function(t,e){t.links.indexOf(e)<0&&t.links.push(e),e.links.indexOf(t)<0&&e.links.push(t)},T=function(t,e){I()(t.links,e),I()(e.links,t)};function X(t){for(var e=t,n=2*e-1,i=0,a=[],r=[],o=[],s=1;s<=n;s++){for(var c=1;c<=e;c++){var l=s%2===0,u=c+(l?.5:0),h=s;if(!l||c<e){var f=S(u,h,i);i++,a.push(f);var d=o.length;s>1&&(l?(Y(f,r[d]),Y(f,r[d+1])):c>1&&c<e?(Y(f,r[d-1]),Y(f,r[d])):1===c?Y(f,r[0]):c===e&&Y(f,r[e-2])),o.push(f)}}r=o,o=[]}return a}function W(t){var e=t.map((function(t){return S(t.x,t.y,t.id)})),n=[],i=function i(a){var r=t[a];n.push(r);var o,s=C()(r.links),c=Object(k["a"])(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(n.indexOf(l)<0){var u=j()(e,["id",l.id]);Y(e[a],e[u]),i(u)}}}catch(h){c.e(h)}finally{c.f()}};return i(0),e}function D(t){return[4,5,3,2].find((function(e){return t%e===0}))}var R={name:"Maze",props:{width:{type:Number,default:900},height:{type:Number,default:900}},mounted:function(){this.rc=M["a"].canvas(this.$refs.canvas),this.drawGrid()},methods:{drawGrid:function(){var t,e=this.rc,n={strokeWidth:.5,fill:"tomato"},i=function(t,i){return e.circle(t,i,5,n)},a=13,r=2*a-1,o=this.width/(a+1),s=this.height/(r+2),c=X(a),l=D(a-1),u=l,h=2*u,f=(a+1-u)/2,d=(r+1-h)/2,v=[],m=Object(k["a"])(c);try{for(m.s();!(t=m.n()).done;){var p=t.value;p.x>=f&&p.x<=f+u&&p.y>=d&&p.y<=d+h&&v.push(p)}}catch(E){m.e(E)}finally{m.f()}v.forEach((function(t,n){var i=2*u+1,a=Math.floor(n/i)+1,r=n%i+1;if(r>u+1&&(a+=.5,r-=u+1.5),e.circle(t.x*o,t.y*s,7,{stroke:"red"}),I()(c,t),1===a||a===u+1||1===r||r===u+1){var h=_()(c,{x:(r-1)*(l-1)+1,y:2*(a-1)*(l-1)+1});t.links.concat([]).forEach((function(e){T(t,e),Y(h,e)}))}else t.links.concat([]).forEach((function(e){return T(t,e)}))}));var g,x=W(c),y=Object(k["a"])(x);try{for(y.s();!(g=y.n()).done;){var b=g.value,w=b.x*o,z=b.y*s;i(w,z);var M,O=Object(k["a"])(b.links);try{for(O.s();!(M=O.n()).done;){var C=M.value,P=C.x*o,j=C.y*s;e.line(w,z,P,j,{stroke:"gold"})}}catch(E){O.e(E)}finally{O.f()}}}catch(E){y.e(E)}finally{y.f()}e.rectangle(o,s,o*(a-1),s*(r-1))}}},L=R,N=(n("0528"),Object(c["a"])(L,w,z,!1,null,"43d5238d",null)),A=N.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"drag",rawName:"v-drag",value:t.onDrag,expression:"onDrag"}],staticClass:"maze",attrs:{tabindex:"0"},on:{"&wheel":function(e){return t.onWheel(e)}}},[n("canvas",{ref:"canvas",attrs:{width:t.width,height:t.height}})])},F=[],Z=(n("cb29"),n("4de4"),n("a15b"),n("13d5"),n("90d7"),n("548a")),G=n("543e"),q=n.n(G);function H(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"grey",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;i!==t.strokeStyle&&(t.strokeStyle=i),t.lineWidth=a,t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.stroke()}var K=function(t,e,n){return{x:t,y:e,id:n,links:[]}},J=function(t,e){t.links.indexOf(e)<0&&t.links.push(e),e.links.indexOf(t)<0&&e.links.push(t)},U=function(t,e){I()(t.links,e),I()(e.links,t)},Q=function(t,e){return[t.id,e.id].sort().join(" ")};function V(t){for(var e=(t-1)/2,n={nodes:[],size:t,h:e,getIndex:function(n,i){if(n<0||n>=t)return-1;var a=e-Math.abs(e-n);if(i>a||i<-a)return-1;var r=-1;return r=n<=e?(n+1)*n+i:-2*e*e+(1+4*e-n)*n+i,r},get:function(t,e){var i=n.getIndex(t,e);return i>=0?n.nodes[i]:null},links:function(){return n.nodes.reduce((function(t,e){return q()(t,e.links.map((function(t){return{first:e,second:t,id:Q(e,t)}})),(function(t,e){return t.id===e.id}))}),[])}},i=0;i<t;i++)for(var a=e-Math.abs(e-i),r=function(t){var e=K(i,t,"".concat(i,"/").concat(t));n.nodes.push(e);var a=[n.get(i-1,t),n.get(i,t+1),n.get(i+1,t),n.get(i,t-1)];a.forEach((function(t){t&&J(e,t)}))},o=-a;o<=a;o++)r(o);return n}function tt(t){var e=t.nodes.map((function(t){return K(t.x,t.y,t.id)})),n=[],i=function i(a){var r=t.nodes[a];n.push(r);var o,s=C()(r.links),c=Object(k["a"])(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(n.indexOf(l)<0){var u=t.getIndex(l.x,l.y);J(e[a],e[u]),i(u)}}}catch(h){c.e(h)}finally{c.f()}};return i(0),e}function et(t){return[4,5,3,2].find((function(e){return t%e===0}))}var nt={name:"Maze",props:{width:{type:Number,default:1600},height:{type:Number,default:1600}},data:function(){return{gridSize:25,center:[0,0],zoomExp:2}},mounted:function(){var t=this;this.rc=M["a"].canvas(this.$refs.canvas),this.ctx=this.$refs.canvas.getContext("2d"),this.makeMaze();var e=function e(){window.requestAnimationFrame(e),t.draw()};this.$on("hooks:beforeDestroy",(function(){window.cancelAnimationFrame(e)})),e()},computed:{xScale:function(){var t=this.width/2,e=this.center[0]+t,n=this.zoom*t;return Object(Z["a"])().domain([0,this.gridSize-1]).range([e-n,e+n])},yScale:function(){var t=this.height/2,e=this.center[1]+t,n=this.zoom*t,i=(this.gridSize-1)/2;return Object(Z["a"])().domain([i,-i]).range([e-n,e+n])},dim:function(){var t=(this.gridSize+1)/2;return et(t-1)},zoom:function(){return Math.pow(2,(this.zoomExp-4)%2+2)},trueZoom:function(){return Math.pow(2,this.zoomExp)}},methods:{onWheel:function(t){this.zoomExp-=t.deltaY/1e3},onDrag:function(t){var e=t.first,n=t.last,i=t.deltaX,a=t.deltaY;n&&(this.dragging=!1),e&&(this.dragging=!0),this.dragging&&(i||a)&&(this.center=[this.center[0]+i,this.center[1]+a])},makeMaze:function(){var t=this,e=V(this.gridSize),n=this.dim;if(n){for(var i=e.h,a=i/n,r=function(t,e){var a=n-Math.abs(i-t);return t>i-n&&t<i+n&&e<a&&e>-a},o=function(t,e){var a=n-Math.abs(i-t);return(t===i-n+1||t===i+n-1||e===a-1||e===1-a)&&r(t,e)},s=-n;s<=n;s++)for(var c=n-Math.abs(s),l=function(t){var n=e.get(i+s,t);n.links.concat([]).forEach((function(t){r(t.x,t.y)&&U(n,t)}))},u=1-c;u<c&&c>0;u++)l(u);var h=e.nodes.filter((function(t){var e=t.x,n=t.y;return o(e,n)}));e.xConnections=[],h.forEach((function(n){var r=e.get((n.x-i)*(a+1)+i,n.y*(a+1));n.links.concat([]).forEach((function(i){U(i,n),0!==r.x&&r.x!==t.gridSize-1&&(J(i,r),e.xConnections.push(Q(i,r)))}))})),e.nodes=tt(e),this.maze=e,this.mazeLinks=e.links()}},draw:function(){var t=this;if(this.maze){var e=this.dim;if(e){var n=this.maze.h,i=this.ctx;i.clearRect(0,0,this.width,this.height);var a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=1-.2*(n+1);H(i,t,e,"rgba(0, 200, 200, ".concat(a,")"),1)},r=this.xScale,o=this.yScale,s=function(t){return Math.abs(t.x)===Math.abs(t.y)},c=1/(n/e+1),l=function(t,e){var i=Math.pow(c,e);return{x:(t.x-n)*i+n,y:t.y*i}},u=function(t){return{x:r(t.x),y:o(t.y)}},h=function(e){var n=-Math.log2(t.zoom)/2;t.mazeLinks.forEach((function(i){var r=t.maze.xConnections.indexOf(i.id)>-1,o=i.first,c=i.second;s(o)&&(c=i.first,o=i.second),r&&(c=l(c,1));for(var h=-1;h<e;h++)a(u(l(o,h)),u(l(c,h)),n+h)}))};h(6)}}}}},it=nt,at=(n("c8e1"),Object(c["a"])(it,B,F,!1,null,"0593edf1",null)),rt=at.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("b-loading",{attrs:{"is-full-page":!0},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),n("FloatingPanel",{staticClass:"controls",attrs:{direction:"up",size:"is-large","close-on-click":!1}},[n("div",{staticClass:"section"},[n("b-field",{attrs:{grouped:""}},[n("b-field",[n("p",{staticClass:"control"},[n("b-button",{staticClass:"btn-dark",attrs:{"icon-right":"restart",size:"is-large"},on:{click:t.resetPosition}})],1),n("p",{staticClass:"control"},[n("b-button",{staticClass:"btn-dark",attrs:{"icon-right":"shuffle-variant",size:"is-large"},on:{click:t.makeMaze}})],1),n("p",{staticClass:"control"},[n("b-button",{staticClass:"btn-dark",attrs:{"icon-right":"eye",size:"is-large"},on:{click:t.solve}})],1)]),n("b-field",{attrs:{label:"Follow Zoom"}},[n("b-switch",{model:{value:t.followZoom,callback:function(e){t.followZoom=e},expression:"followZoom"}})],1)],1),n("b-field",{attrs:{label:"Spokes"}},[n("b-slider",{attrs:{min:10,max:100,step:1},model:{value:t.mazeW,callback:function(e){t.mazeW=e},expression:"mazeW"}})],1),n("b-field",{attrs:{label:"Recursion Levels"}},[n("b-slider",{attrs:{min:3,max:t.mazeW-1,step:1},model:{value:t.mazeD,callback:function(e){t.mazeD=e},expression:"mazeD"}})],1)],1)]),n("div",{directives:[{name:"drag",rawName:"v-drag",value:t.onDrag,expression:"onDrag"}],ref:"maze",staticClass:"maze",attrs:{tabindex:"0"},on:{touchstart:t.onTap,"&wheel":function(e){return t.onWheel(e)}}},[n("Resizer",{on:{resize:t.resizeCanvas}},[n("canvas",{ref:"canvas",style:{transform:"scale("+1/t.pixelRatio+")",transformOrigin:"top left"}})])],1)],1)},st=[],ct=(n("a434"),n("dca8"),n("d3b7"),n("3ca3"),n("ddb0"),n("3835")),lt=(n("96cf"),n("1da1")),ut=n("443d"),ht=n.n(ut),ft=n("63ea"),dt=n.n(ft),vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resizer"},[t._t("default")],2)},mt=[],pt=n("0f32"),gt=n.n(pt),xt=new i["a"];window.addEventListener("resize",gt()((function(){xt.$emit("resize")}),18));var yt={name:"Resizer",mounted:function(){var t=this,e=function(){var e=t.$el.offsetWidth,n=t.$el.offsetHeight;t.$emit("resize",{width:e,height:n})};e(),xt.$on("resize",e),this.$on("hook:beforeDestroy",(function(){xt.$off("resize",e)}))}},bt=yt,wt=(n("16a4"),Object(c["a"])(bt,vt,mt,!1,null,"753fa126",null)),zt=wt.exports,kt=function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"floating-panel",class:(t={"is-open":e.isOpen},t["direction-"+e.direction]=!0,t)},[i("div",{staticClass:"activator",on:{click:function(t){e.isOpen=!0}}},[e._t("activator",[i("b-icon",{staticClass:"icon-btn",attrs:{icon:e.openIcon,size:e.size}})])],2),i("transition",{attrs:{name:"fade"}},[e.isOpen?i("div",{staticClass:"panel",on:{click:function(t){e.closeOnClick&&(e.isOpen=!1)}}},[i("div",{staticClass:"close",on:{click:function(t){t.stopPropagation(),e.isOpen=!1}}},[e._t("deactivator",[i("b-icon",{staticClass:"icon-btn",attrs:{icon:e.closeIcon,size:e.size}})])],2),e._t("default")],2):e._e()])],1)},Mt=[],Ot={},Ct={closeIcon:function(){switch(this.direction){case"right":return"menu-left";case"left":return"menu-right";case"up":return"menu-down";case"down":return"menu-up"}},openIcon:function(){switch(this.direction){case"right":return"menu-right";case"left":return"menu-left";case"up":return"menu-up";case"down":return"menu-down"}},isOpen:{get:function(){return void 0===this.open?this.openState:this.open},set:function(t){this.openState=t,this.$emit("update:open",t)}}},Pt={},jt={},Et={name:"FloatingPanel",props:{open:{type:Boolean,default:void 0},closeOnClick:{type:Boolean,default:!0},size:String,direction:{type:String,validator:function(t){return["right","up","left","down"].indexOf(t)>-1},default:"down"}},data:function(){return{openState:!1}},components:Ot,computed:Ct,watch:Pt,methods:jt},_t=Et,$t=(n("1c8d"),Object(c["a"])(_t,kt,Mt,!1,null,"433cb250",null)),It=$t.exports,St=n("9f48");n("b64b");function Yt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i){if(n>=1)return e;if(n<=0)return t}return e*n+t*(1-n)}function Tt(t,e){var n=Object.keys(t),i={},a=!1,r=function r(){if(!a){var o,s=Object(k["a"])(n);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=t[c],u=l.get||l,h=l.tightness||.1;i[c]=Yt(+i[c]||0,u(),h)}}catch(f){s.e(f)}finally{s.f()}e&&e(i),window.requestAnimationFrame(r)}};return i.$destroy=function(){a=!0},n.forEach((function(e){var n=t[e],a=n.get||n;i[e]=a()})),r(),i}var Xt=n("7d3a"),Wt=n.n(Xt),Dt=n("1fee"),Rt=n.n(Dt),Lt=n("ceac"),Nt=n.n(Lt),At=function(t,e,n){return{x:t,y:e,id:n,links:[]}},Bt=function(t,e){t.links.indexOf(e)<0&&t.links.push(e),e.links.indexOf(t)<0&&e.links.push(t)},Ft=function(t,e){return[t.id,e.id].sort().join(" ")};function Zt(t){t.nodes.forEach((function(t){t.links=[],t._visited=!1}));var e=t.nodes[0];e.z=0;var n=t.nodes.concat([]),i=[],a=n.shift();a._visited=!0,i.push(a);while(n.length>0){var r=a.neighbours.filter((function(t){return!t.node._visited}));if(r.length){var o=a===e?r[0]:Wt()(r),s=o.node;Bt(a,s),s.z=a.z+o.wrapY,a=s,a._visited=!0,I()(n,a),i.push(a)}else a=i.pop()}}function Gt(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i={nodes:[],width:t,depth:e,getIndex:function(n,i){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a&&(n=(n%t+t)%t,i=(i%e+e)%e),n>=t||n<0||i>=e||i<0?-1:i*t+n},get:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=i.getIndex(t,e,n);return a>=0?i.nodes[a]:null},getAntiLinks:function(t){return Nt()(t.neighbours.map((function(t){return t.node})),t.links)},toNormalized:function(n,i){return{x:n/t,y:i/e}},links:function(){return Rt()(i.nodes.reduce((function(t,e){var n=e.links.map((function(t){return{first:e,second:t,id:Ft(e,t)}}));return t.push.apply(t,n),t}),[]),(function(t,e){return t.id===e.id}))},walls:function(){var t=i.nodes.reduce((function(t,e){var n=i.getAntiLinks(e).map((function(t){return{first:e,second:t,id:Ft(e,t)}}));return t.push.apply(t,n),t}),[]);return Rt()(t,(function(t,e){return t.id===e.id})).map((function(t){var e=t.first,n=t.second;if(e.x===n.x){var i=n.y-e.y>1?n.y+.5:e.y+.5;return{first:{x:e.x-.5,y:i},second:{x:e.x+.5,y:i}}}if(e.y===n.y){var a=n.x-e.x>1?n.x+.5:e.x+.5;return{first:{x:a,y:e.y-.5},second:{x:a,y:e.y+.5}}}throw new Error("Unreachable")}))}},a=0;a<e;a++)for(var r=0;r<t;r++){var o=i.nodes.length,s=At(r,a,o);i.nodes.push(s)}return i.nodes.forEach((function(t){var a=t.x,r=t.y,o=0===r?n:0,s=r===e-1?n:0;t.neighbours=[i.get(a+1,r),i.get(a+s,r+1),i.get(a-1,r),i.get(a-o,r-1)].map((function(e){var n=Math.abs(t.x-e.x)>1?e.x>t.x?-1:1:0,i=Math.abs(t.y-e.y)>1?e.y>t.y?-1:1:0;return{node:e,wrapX:n,wrapY:i}}))})),i}function qt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e||(e=t[0]),e===t[t.length-1])return[e];for(var i=0;i<e.links.length;i++){var a=e.links[i];if(!(n.indexOf(a)>=0)){n.push(a);var r=qt(t,a,n);if(r)return r.unshift(a),r}}return!1}function Ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=t.nodes.reduce((function(t,e){if(e.links.length>1)return t;var n=e.neighbours.filter((function(t){return e.z!==t.node.z})).map((function(t){return[e,t.node]}));return t.push.apply(t,n),t}),[]);ht()(n,e).forEach((function(t){var e=Object(ct["a"])(t,2),n=e[0],i=e[1];Bt(n,i)}))}var Kt="60deg, 38%, 42%",Jt="rgb(0, 200, 0)",Ut="rgb(62, 66, 230)",Qt=Object(St["a"])().domain([200,.1]),Vt=Object(Z["a"])().domain([100,10]).range([1,2]),te=function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=n,i.src=t}))},ee=te(n("7de5")),ne=[n("e213"),n("5455"),n("ce53"),n("f58f"),n("051c"),n("a11b"),n("37f7"),n("0014"),n("fd79"),n("06219")].map(te);function ie(t,e){var n=(t-e)%(2*Math.PI);return n>Math.PI?n-2*Math.PI+e:n<-Math.PI?n+2*Math.PI+e:n+e}function ae(t,e,n,i,a){a!==t.fillStyle&&(t.fillStyle=a),t.beginPath(),t.arc(e,n,i,0,2*Math.PI),t.fill()}var re={name:"Torus",props:{},components:{Resizer:zt,FloatingPanel:It},data:function(){return{width:500,height:500,pixelRatio:window.devicePixelRatio||1,mazeW:20,mazeD:3,center:[0,-.1],angle:Math.PI/2,skew:1,zoomExp:0,minR:7,nodeIndex:[-1,0],nodePos:[0,0,0],maze:null,path:[],sol:!1,solved:!1,difficulty:"easy",followZoom:!0,loading:!0}},mounted:function(){var t=this;return Object(lt["a"])(regeneratorRuntime.mark((function e(){var n,i,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.ctx=t.$refs.canvas.getContext("2d"),n=Object(Z["a"])(),i=Object(Z["a"])(),a=Object(Z["a"])(),r=Object(Z["a"])(),e.next=7,Promise.all(ne);case 7:t.Landmarks=e.sent,t.smooth=Tt({zoomExp:{get:function(){return t.zoomExp},tightness:.05},angle:{get:function(){return t.angle},tightness:.05}},(function(e){var o=t.mod;e.zoomTrue=Math.pow(2,e.zoomExp),e.zoom=Math.pow(2,(e.zoomExp%o+o)%o-2*o);var s=t.skew,c=Math.min(t.width,t.height)/2,l=t.width/2,u=2*l*t.center[0]+l,h=s*e.zoom*c;e.$x=n.range([u-h,u+h]);var f=s*e.zoomTrue*c;e.$xTrue=a.range([u-f,u+f]);var d=t.height/2,v=2*d*t.center[1]+d,m=e.zoom*c;e.$y=i.range([v-m,v+m]);var p=e.zoomTrue*c;e.$yTrue=r.range([v-p,v+p]),t.draw()})),t.makeMaze(),o=function(e){switch(e.code){case"KeyW":case"ArrowUp":while(t.move(1));break;case"KeyS":case"ArrowDown":while(t.move(3));break;case"KeyA":case"ArrowLeft":while(t.move(0));break;case"KeyD":case"ArrowRight":while(t.move(2));break}},window.addEventListener("keydown",o),t.$on("hook:beforeDestroy",(function(){t.smooth.$destroy(),window.removeEventListener("keydown",o)})),t.loading=!1;case 14:case"end":return e.stop()}}),e)})))()},watch:{mazeW:"makeMaze",mazeD:"makeMaze"},computed:{iterations:function(){var t=2*this.minR/this.width,e=Math.ceil(1*Math.log(t)/Math.log(1-2*Math.PI/this.mazeW)/this.mazeD);return e+1},node:function(){if(this.maze)return this.maze.nodes[this.nodeIndex[0]]},mod:function(){return Math.log2(Math.pow(1-2*Math.PI/this.mazeW,this.mazeD))},centerOpacity:function(){return Qt(this.mazeW)},wallWidth:function(){return Vt(this.mazeW)*this.pixelRatio},radialGradient:function(){var t=this.centerOpacity,e=this.width,n=this.height,i=e*(.5+this.center[0]),a=n*(.5+this.center[1]),r=this.ctx.createRadialGradient(i,a,1,i,a,e/4);return r.addColorStop(0,"hsl(".concat(Kt,", ").concat(t,")")),r.addColorStop(1,"hsl(".concat(Kt,", 1)")),r}},methods:{resizeCanvas:function(t){var e=t.width,n=t.height,i=this.$refs.canvas,a=this.pixelRatio;this.width=i.width=a*e,this.height=i.height=a*n},move:function(t){if(!this.node)return!1;var e=this.nodeIndex[1],n=this.node.neighbours[t];return!(this.node.links.indexOf(n.node)<0)&&(this.setNode(this.maze.getIndex(n.node.x,n.node.y),e+n.wrapY),2===this.node.links.length&&this.node!==this.maze.nodes[this.maze.nodes-1])},setNode:function(t,e){var n=this;this.nodeIndex=[t,e];var i=this.maze.nodes[t],a=i.x,r=i.y;if(this.nodePos={x:a,y:r,z:e},!this.dragging){var o=this.mod,s=this.maze.toNormalized(a,r);this.angle=ie(-s.x*Math.PI*2+Math.PI/2,this.angle),this.followZoom&&(this.zoomExp=(1/this.mazeD-s.y-e)*o+(1===this.skew?-1:0))}var c=j()(this.path,(function(t){return dt()(n.nodePos,t)}));c>=0&&this.path.splice(c,this.path.length),this.path.push(this.nodePos);var l=this.maze.nodes.length;this.nodeIndex[0]===l-1&&this.maze.nodes[l-1].z===this.nodeIndex[1]&&(this.solved=!0)},onWheel:function(t){this.zoomExp-=t.deltaY/1e3},onTap:function(t){var e=window.innerWidth,n=window.innerHeight,i=t.changedTouches[0],a=i.pageX,r=i.pageY;if(a<e/4)while(this.move(0));else if(a>3*e/4)while(this.move(2));else if(r<n/4)while(this.move(1));else if(r>3*n/4)while(this.move(3));},onDrag:function(t){var e=t.first,n=t.last,i=t.deltaX,a=t.deltaY;n&&(this.dragging=!1),e&&(this.dragging=!0),this.dragging&&(i||a)&&(this.angle-=2*i/this.width,this.phi-=2*a/this.height)},changePerspective:function(){0===this.center[1]?(this.skew=2,this.center[1]=-this.height/2):(this.skew=1,this.center[1]=0)},resetPosition:function(){this.setNode(0,0),this.solved=!1},isAppropriateSolution:function(t){return t>30},makeMaze:function(){var t=Gt(this.mazeW,this.mazeD),e=10;while(e--){Zt(t);var n=qt(t.nodes);if(this.isAppropriateSolution(n.length))break}e<1&&console.log("maxed out attempts to produce difficult maze");var i=Math.round(Math.sqrt(t.nodes.length)/4);t.solution=qt(t.nodes),Ht(t,i),this.maze=Object.freeze(t),this.mazeLinks=this.maze.links(),this.mazeWalls=this.maze.walls(),this.makeLandmarks(),this.path=[],this.resetPosition(),this.sol=!1,console.log("will draw ",this.mazeWalls.length*this.iterations)},makeLandmarks:function(){var t=this.maze.nodes.filter((function(t){return 1===t.links.length})),e=Math.min(this.Landmarks.length,t.length),n=ht()(t,e);this.landmarks=ht()(this.Landmarks,e).map((function(e,i){var a=n[i%t.length],r=0,o=Math.ceil(5*Math.random())-2;return o||a.x||a.y||(o+=1),{pos:a,img:e,angle:r,z:o}})),this.landmarks.push({pos:this.maze.nodes[0],img:ee,angle:0,z:0})},draw:function(){var t=this;if(this.maze){var e=this.maze,n=this.ctx,i=this.width,a=this.height;n.clearRect(0,0,i,a);var r=this.smooth.$x,o=this.smooth.$y,s=this.smooth.$xTrue,c=this.smooth.$yTrue,l=2*Math.PI/e.width,u=Math.pow(1-l,e.depth),h=2*Math.PI,f=function(t){var e=t.x,n=t.y,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>=-r&&e<=i+r&&n>=-r&&n<=a+r},d=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=e.toNormalized(n.x,n.y),d=f.x*h+t.smooth.angle;n._r||(n._r=Math.pow(1-l,n.y));var v=n._r*Math.pow(u,i),m=.5*(v*Math.cos(d)+1),p=.5*(v*Math.sin(d)+1);return{x:a?s(m):r(m),y:a?c(p):o(p),ox:m,oy:p,r:v,alpha:d}},v=function(e){var i=e.x,a=e.y,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"grey";ae(n,i,a,5*t.pixelRatio,r)},m=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=i?s:r,l=i?c:o,u=(t.alpha+e.alpha)/2,h=t.r/Math.cos((e.alpha-t.alpha)/2),f=(h*Math.cos(u)+1)/2,d=(h*Math.sin(u)+1)/2,v=(l(t.r)-l(0))/2.01;v<2||n.arcTo(a(f),l(d),e.x,e.y,v)},p=function(t){return Math.abs(t.first.y-t.second.y)>1},g=function(t,e,i){var a=d(t,t.z,!0);n.strokeStyle=i,n.beginPath(),n.moveTo(a.x,a.y),e.reduce((function(t,e){var i=Object(ct["a"])(t,2),a=i[0],r=i[1],o=d(e,e.z,!0);return a.y===e.y?m(r,o,!0):n.lineTo(o.x,o.y),[e,o]}),[t,a]),n.stroke()},x=this.wallWidth,y=this.radialGradient,b=function(e){n.strokeStyle=y,n.shadowBlur=0,n.shadowColor="rgba(0, 0, 0, 0.8)",n.lineWidth=x,n.lineCap="square",n.beginPath();for(var i=0,a=t.mazeWalls.length;i<a;i++)for(var r=t.mazeWalls[i],o=p(r)?1:0,s=-2;s<e;s++){var c=d(r.first,s+o),l=d(r.second,s);(f(c,200)||f(l,200))&&(n.moveTo(c.x,c.y),r.first.y===r.second.y?m(c,l):n.lineTo(l.x,l.y))}n.stroke()},w=function(){n.shadowBlur=4*t.pixelRatio,n.shadowColor="rgba(255, 255, 255, 0.6)",t.landmarks.forEach((function(t){var e=t.img,i=t.pos,a=t.z,r=t.angle,o=d(i,a,!0),c=e.width/2,u=e.height/2,h=s(o.r*l/2)-s(0);if(c&&!(h<6)&&f(o,c+u)){var v=o.alpha-Math.PI/2+r,m=.7*h/e.height;n.translate(o.x,o.y),n.rotate(v),n.drawImage(e,-c*m,-u*m,e.width*m,e.height*m),n.rotate(-v),n.translate(-o.x,-o.y)}})),n.shadowBlur=0};b(this.iterations),w();var z=e.nodes[0],k=e.nodes[e.nodes.length-1],M=this.nodePos;g(z,this.path,this.solved?Jt:Ut),this.sol&&g(z,this.sol,Jt),v(d(k,k.z,!0),"rgba(200, 0, 0, 1)"),v(d(M,M.z,!0),"white")}},solve:function(){this.sol=Object.freeze(this.maze.solution)}}},oe=re,se=(n("91ad"),Object(c["a"])(oe,ot,st,!1,null,"4f1df7a4",null)),ce=se.exports,le={name:"Home",components:{Maze:A,Diamond:rt,Torus:ce}},ue=le,he=Object(c["a"])(ue,y,b,!1,null,"527d0848",null),fe=he.exports;i["a"].use(d["a"]);var de=new d["a"]({routes:[{path:"/",name:"home",component:fe},{path:"/about",name:"about",component:x},{path:"/*",redirect:{name:"home"}}]}),ve=(n("b680"),n("ac1f"),n("1276"),n("e9a7")),me=n.n(ve),pe=n("9380"),ge=n.n(pe);function xe(t){return t.split(" ").map((function(t){return me()(t)})).join(" ")}var ye=[{range:[1,1e3],suffix:"",decimals:0},{range:[1e3,1e6],suffix:"k",decimals:1},{range:[1e6,1e9],suffix:"M",decimals:1},{range:[1e9,1/0],suffix:"B",decimals:1}];function be(t){if(0===t)return"0";var e=_()(ye,(function(e){return e.range[0]&&t<e.range[1]}));return(t/e.range[0]).toFixed(e.decimals)+e.suffix}function we(t){t=Math.round(t/1e3);var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=t-3600*e-60*n,a="";return 0!==e&&(e<10&&(e="0"+e),a=e+":"),n<10&&(n="0"+n),i<10&&(i="0"+i),a+="".concat(n,":").concat(i),a}function ze(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return t.length<e?t:t.substr(0,e-n.length)+n}var ke={install:function(t){t.filter("capitalize",me.a),t.filter("titleCase",xe),t.filter("filter",ge.a),t.filter("shortNumber",be),t.filter("truncate",ze),t.filter("duration",we)}},Me=["mousedown","touchstart"],Oe=["mousemove","touchmove"],Ce=["mouseup","touchend"];function Pe(t,e,n){for(var i=0,a=e.length;i<a;i++)t.addEventListener(e[i],n,{passive:!1})}function je(t,e,n){for(var i=0,a=e.length;i<a;i++)t.removeEventListener(e[i],n)}function Ee(t,e){var n=e.getBoundingClientRect();return t.changedTouches&&(t=t.changedTouches[0]),{clientX:t.clientX,clientY:t.clientY,layerX:t.clientX-n.left,layerY:t.clientY-n.top}}var _e={inserted:function(t,e){var n;function i(i){i.preventDefault();var a=Ee(i,t);t.lastCoords=t.firstCoords={x:a.clientX,y:a.clientY},e.value({el:t,first:!0,clientX:a.clientX,clientY:a.clientY,offsetX:0,offsetY:0,layerX:a.layerX,layerY:a.layerY,event:i}),n=t}function a(i){if(t===n){var a=Ee(i,t),r=a.clientX-t.firstCoords.x,o=a.clientY-t.firstCoords.y;i.preventDefault(),t.lastCoords=null,e.value({el:t,last:!0,clientX:a.clientX,clientY:a.clientY,offsetX:r,offsetY:o,layerX:a.layerX,layerY:a.layerY,event:i}),n=null}}function r(i){if(t===n&&(i.preventDefault(),t.lastCoords)){var a=Ee(i,t),r=a.clientX-t.lastCoords.x,o=a.clientY-t.lastCoords.y,s=a.clientX-t.firstCoords.x,c=a.clientY-t.firstCoords.y,l=a.clientX,u=a.clientY;e.value({el:t,deltaX:r,deltaY:o,offsetX:s,offsetY:c,clientX:l,clientY:u,layerX:a.layerX,layerY:a.layerY,event:i}),t.lastCoords={x:a.clientX,y:a.clientY}}}document&&(Pe(t,Me,i),Pe(window,Ce,a),Pe(document.documentElement,Oe,r))},unbind:function(t){je(t,Me),je(window,Ce),je(document.documentElement,Oe)}},$e={install:function(t){t.directive("drag",_e)},drag:_e},Ie=n("289d"),Se=(n("5363"),n("fb98"),n("f745")),Ye=!0;i["a"].use(f.a,{id:"UA-46248430-1",router:de,debug:{enabled:!Ye,trace:!1,sendHitTask:Ye},autoTracking:{exception:!0,pageviewTemplate:function(t){return{title:t.name,page:"/".concat(Se.repo).concat(t.path),location:window.location.href}}}}),i["a"].use(Ie["a"],{defaultContainerElement:"#app"}),i["a"].use(ke),i["a"].use($e),i["a"].config.productionTip=!1,i["a"].prototype.$labConfig=Se,new i["a"]({render:function(t){return t(u)},router:de}).$mount("#app")},"5ad1":function(t,e,n){},"61d7":function(t,e,n){},"66d4":function(t,e,n){},"762c":function(t,e,n){},"7de5":function(t,e,n){t.exports=n.p+"img/logo-dark-min.99a15886.png"},8548:function(t,e,n){"use strict";n("762c")},"91ad":function(t,e,n){"use strict";n("5ad1")},a11b:function(t,e,n){t.exports=n.p+"img/jasper-min.fee0d6b5.png"},a2ca:function(t,e,n){},c481:function(t,e,n){},c8e1:function(t,e,n){"use strict";n("61d7")},ce53:function(t,e,n){t.exports=n.p+"img/david-min.eecfbb5f.png"},e213:function(t,e,n){t.exports=n.p+"img/alex-min.11f64c5e.png"},ef0c:function(t,e,n){},f0fd:function(t,e,n){"use strict";n("a2ca")},f58f:function(t,e,n){t.exports=n.p+"img/ever-min.3fd6a155.png"},f745:function(t){t.exports=JSON.parse('{"repo":"maze-playground","title":"Maze Playground","description":"DESCRIPTION"}')},fb98:function(t,e,n){},fd79:function(t,e,n){t.exports=n.p+"img/peter-min.14e04c49.png"}});
//# sourceMappingURL=app.60a77987.js.map